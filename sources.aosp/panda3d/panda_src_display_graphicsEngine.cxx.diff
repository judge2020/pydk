--- panda3d/panda/src/display/graphicsEngine.cxx	2020-03-20 15:48:21.000000000 +0100
+++ panda3d.android/panda/src/display/graphicsEngine.cxx	2020-04-12 11:01:58.858561869 +0200
@@ -50,6 +50,14 @@
 #include "depthTestAttrib.h"
 #include "unionBoundingVolume.h"
 
+#if __ANDROID__
+#include <android/log.h>
+#undef LOG_TAG
+#define LOG_TAG "DEBUG:graphicsEngine"
+#define LOG_I(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__)
+#define LOG_E(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__)
+#endif
+
 #if defined(_WIN32) && defined(HAVE_THREADS) && defined(SIMPLE_THREADS)
 #include "winInputDeviceManager.h"
 #endif
@@ -287,7 +295,9 @@
  */
 
   // Simplify the input parameters.
-
+#if __ANDROID__
+LOG_I("291: make_output");
+#endif
   int x_size = 0, y_size = 0;
   if (win_prop.has_size()) {
     x_size = win_prop.get_x_size();
@@ -307,6 +317,7 @@
   if (host == nullptr) {
     if (gsg != nullptr) {
       if ((!gsg->is_valid())||(gsg->needs_reset())) {
+LOG_E("320:open_windows");
         open_windows();
       }
       if ((!gsg->is_valid())||(gsg->needs_reset())) {
@@ -318,6 +329,7 @@
         (!host->is_valid())||
         (!host->get_gsg()->is_valid())||
         (host->get_gsg()->needs_reset())) {
+LOG_E("332:open_windows");
       open_windows();
     }
     if ((host->get_gsg()==nullptr)||
@@ -410,7 +422,12 @@
 
   // Ask the pipe to create a window.
 
+#if __ANDROID__
+  for (int retry=0; retry<1; retry++) {
+    LOG_E("425: make_output");
+#else
   for (int retry=0; retry<10; retry++) {
+#endif
     bool precertify = false;
     PT(GraphicsOutput) window =
       pipe->make_output(name, fb_prop, win_prop, flags, this, gsg, host, retry, precertify);
@@ -422,7 +439,9 @@
           << "Created output of type " << window->get_type() << "\n";
         return window;
       }
+LOG_E("442:do_add_window()");
       do_add_window(window);
+LOG_E("444:open_windows");
       open_windows();
       if (window->is_valid()) {
         display_cat.info()
@@ -446,6 +465,7 @@
             << "  got: " << window->get_fb_properties() << "\n";
         }
       } else {
+LOG_E("466: !window->is_valid()!");
         display_cat.info()
           << window->get_type() << " wouldn't open; abandoning.\n";
         display_cat.debug(false)
@@ -724,6 +744,7 @@
   // that we don't render a frame before the offscreen buffers are ready
   // (which might result in a frame going by without some textures having
   // been rendered).
+LOG_E("744:open_windows");
   open_windows();
 
   ClockObject *global_clock = ClockObject::get_global_clock();
@@ -964,6 +985,7 @@
  */
 void GraphicsEngine::
 open_windows() {
+LOG_I("988:open_windows");
   Thread *current_thread = Thread::get_current_thread();
 
   ReMutexHolder holder(_lock, current_thread);
@@ -972,6 +994,7 @@
   {
     MutexHolder new_windows_holder(_new_windows_lock, current_thread);
     if (_new_windows.empty()) {
+LOG_I("988:open_windows->empty");
       return;
     }
 
@@ -1044,9 +1067,12 @@
   // Now go through the list again to check whether they opened successfully.
   for (auto it = new_windows.begin(); it != new_windows.end(); ++it) {
     GraphicsOutput *window = *it;
+    if (!window->get_gsg())
+LOG_I("1071:open_windows-> window->get_gsg nullptr !");
     if (window->is_valid()) {
       do_add_gsg(window->get_gsg(), window->get_pipe());
     } else {
+LOG_I("988:open_windows->remove !");
       remove_window(window);
     }
   }
