--- panda3d-input-overhaul/makepanda/makepanda.py	2018-02-04 11:37:09.000000000 +0100
+++ panda3d-input-overhaul.api19/makepanda/makepanda.py	2018-02-19 02:11:30.574475652 +0100
@@ -1283,7 +1283,8 @@
             if optlevel >= 3:
                 cmd += " -fomit-frame-pointer"
                 if arch.startswith('arm'):
-                    cmd += ' -finline-limit=64 -mthumb'
+                    #cmd += ' -finline-limit=64 -mthumb' clang 3.8 does not like -finline-limit=64
+                    cmd += ' -mthumb'
                 elif arch == 'mips':
                     cmd += ' -funswitch-loops -finline-limit=300'
             else:
@@ -1749,7 +1750,7 @@
             cmd += " -Wl,-z,noexecstack -Wl,-z,relro -Wl,-z,now"
             if GetTargetArch() == 'armv7a':
                 cmd += " -march=armv7-a -Wl,--fix-cortex-a8"
-            cmd += ' -lc -lm'
+            cmd += ' -lc -lm -l%s' % os.getenv('PANDA_PYLIB','python3.7m')
         else:
             cmd += " -pthread"
 
